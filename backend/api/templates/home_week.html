{% load static %}

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Home_week</title>
<link rel="stylesheet" href="{% static 'css/output.css' %}">
<div class="bg-gray-50">
    <div class="w-full max-w-[1440px] mx-auto px-0 py-0 sm:px-4 sm:py-8 bg-gray-50">

        <!-- View Toggle Buttons -->
        <div class="flex items-center gap-6 mb-8">
            <button button class="text-blue-600">Weekly View</button>
            <a href="/home/" class="text-slate-600">Daily View</a>
            {% if user.is_authenticated %}
                <a href="{% url 'logout' %}" class="text-red-600 px-4 py-2 rounded-lg">
                    Logout
                </a>
            {% endif %}
        </div>

        <!-- Main Content -->
        <div class="bg-white rounded-xl shadow-sm p-0 sm:p-8">
            <!-- Header Section -->
            <div class="flex justify-between items-center mb-8">
                <div class="flex items-center gap-4">
                    <h1 class="text-2xl font-bold">Weekly Schedule - {{ today|date:"F j, Y" }}</h1>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-slate-600" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                </div>


            </div>

            <!-- Weather and Filters -->
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center justify-start gap-4 mb-8">
                    <div class="flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class = "h-6 w-6 text-slate-600"width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/><circle cx="12" cy="10" r="3"/></svg>
                        <p class="text-slate-600">{{ location }}</p>
                    </div>            
                    <div class="flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class = "h-6 w-6 text-slate-600" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-thermometer"><path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/></svg>
                        <p class="text-slate-600">{{ weather }}Â°F</p>
                    </div>
                    <div class="flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class = "h-6 w-6 text-slate-600" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
                        <p class="text-slate-600">{{ temp }}</p>
                    </div>
                </div>
                <div>
                    <select class="border border-gray-300 rounded-md px-4 py-2 text-sm">
                        <option>All</option>
                        <option value="Study">Study</option>
                        <option value="Work">Work</option>
                        <option value="Health">Health</option>
                        <option value="Social">Social</option>
                        <option value="Personal">Personal</option>
                    </select>
                </div>
            </div>
        <div class="bg-blue-50 py-8 px-4">
            <!-- Weekly View -->
            <div class="grid grid-cols-7 gap-1 rounded-lg shadow-lg">
                <!-- Each day column -->
                {% for day in weekly_events %}
                <div class="border rounded-lg p-4 bg-white">
                    <h3 class="text-center font-bold text-lg mb-2">{{ day.date }}</h3>
                    <p class="text-center text-sm text-gray-500 mb-4">_______________</p>
                    {% for event in day.events %}
                    <div class="flex items-center justify-between text-sm mb-2">
                        <p class="flex-1 font-medium text-{{ event.category_color }} mt-2">
                            {{ event.title }}
                        </p>
                        <div class="flex gap-2">
                            <a href="#" class="text-blue-500 hover:underline">Edit</a>
                            <a href="#" class="text-red-500 hover:underline">Delete</a>
                        </div>
                    
                    </div>
                    {% empty %}
                    <p class="text-center text-sm text-gray-500">No Events</p>
                    {% endfor %}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>


